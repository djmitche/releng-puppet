# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.


BBDB_URL='mysql://<%= scope.function_secret(["buildbot_schedulerdb_username"])%>:<%= scope.function_secret(["buildbot_schedulerdb_password"])%>@<%= scope.function_secret(["buildbot_schedulerdb_hostname"])%>/<%= scope.function_secret(["buildbot_schedulerdb_database"])%>'
PULSE_USERNAME='<%= scope.function_secret(["pulse_username"])%>'
PULSE_PASSWORD='<%= scope.function_secret(["pulse_password"])%>'
PULSE_EXCHANGE='<%= scope.function_secret(["pulse_exchange"])%>'

<% if @fqdn.match "mozilla.com" %>
secrets={
    'nightly-signing': [
        ('signing1.build.scl1.mozilla.com:9100', '<%= scope.function_secret(['signing_server_username']) %>', '<%= scope.function_secret(['signing_server_nightly_password']) %>'),
        ('signing2.build.scl1.mozilla.com:9100', '<%= scope.function_secret(['signing_server_username']) %>', '<%= scope.function_secret(['signing_server_nightly_password']) %>'),
        ('signing3.srv.releng.scl3.mozilla.com:9100', '<%= scope.function_secret(['signing_server_username']) %>', '<%= scope.function_secret(['signing_server_nightly_password']) %>'),
    ],
    'dep-signing': [
        ('signing1.build.scl1.mozilla.com:9110', '<%= scope.function_secret(['signing_server_username']) %>', '<%= scope.function_secret(['signing_server_dep_password']) %>'),
        ('signing2.build.scl1.mozilla.com:9110', '<%= scope.function_secret(['signing_server_username']) %>', '<%= scope.function_secret(['signing_server_dep_password']) %>'),
        ('signing3.srv.releng.scl3.mozilla.com:9110', '<%= scope.function_secret(['signing_server_username']) %>', '<%= scope.function_secret(['signing_server_dep_password']) %>'),
    ],
    'release-signing': [
        ('signing1.build.scl1.mozilla.com:9120', '<%= scope.function_secret(['signing_server_username']) %>', '<%= scope.function_secret(['signing_server_release_password']) %>'),
        ('signing2.build.scl1.mozilla.com:9120', '<%= scope.function_secret(['signing_server_username']) %>', '<%= scope.function_secret(['signing_server_release_password']) %>'),
        ('signing3.srv.releng.scl3.mozilla.com:9120', '<%= scope.function_secret(['signing_server_username']) %>', '<%= scope.function_secret(['signing_server_release_password']) %>'),
    ],
    'mac-nightly-signing': [
        ('mac-signing1.srv.releng.scl3.mozilla.com:9100', '<%= scope.function_secret(['signing_server_username']) %>', '<%= scope.function_secret(['signing_server_nightly_password']) %>'),
        ('mac-signing2.srv.releng.scl3.mozilla.com:9100', '<%= scope.function_secret(['signing_server_username']) %>', '<%= scope.function_secret(['signing_server_nightly_password']) %>'),
        ('mac-signing3.build.scl1.mozilla.com:9100', '<%= scope.function_secret(['signing_server_username']) %>', '<%= scope.function_secret(['signing_server_nightly_password']) %>'),
        ('mac-signing4.build.scl1.mozilla.com:9100', '<%= scope.function_secret(['signing_server_username']) %>', '<%= scope.function_secret(['signing_server_nightly_password']) %>'),
    ],
    'mac-dep-signing': [
        ('mac-signing1.srv.releng.scl3.mozilla.com:9110', '<%= scope.function_secret(['signing_server_username']) %>', '<%= scope.function_secret(['signing_server_dep_password']) %>'),
        ('mac-signing2.srv.releng.scl3.mozilla.com:9110', '<%= scope.function_secret(['signing_server_username']) %>', '<%= scope.function_secret(['signing_server_dep_password']) %>'),
        ('mac-signing3.build.scl1.mozilla.com:9110', '<%= scope.function_secret(['signing_server_username']) %>', '<%= scope.function_secret(['signing_server_dep_password']) %>'),
        ('mac-signing4.build.scl1.mozilla.com:9110', '<%= scope.function_secret(['signing_server_username']) %>', '<%= scope.function_secret(['signing_server_dep_password']) %>'),
    ],
    'mac-release-signing': [
        ('mac-signing3.build.scl1.mozilla.com:9120', '<%= scope.function_secret(['signing_server_username']) %>', '<%= scope.function_secret(['signing_server_release_password']) %>'),
        ('mac-signing4.build.scl1.mozilla.com:9120', '<%= scope.function_secret(['signing_server_username']) %>', '<%= scope.function_secret(['signing_server_release_password']) %>'),
        ('mac-signing1.srv.releng.scl3.mozilla.com:9120', '<%= scope.function_secret(['signing_server_username']) %>', '<%= scope.function_secret(['signing_server_release_password']) %>'),
        ('mac-signing2.srv.releng.scl3.mozilla.com:9120', '<%= scope.function_secret(['signing_server_username']) %>', '<%= scope.function_secret(['signing_server_release_password']) %>'),
    ],
}
<% else %>
# No signing servers defined
<% end %>
